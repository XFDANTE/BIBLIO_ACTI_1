<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Semana del Libro - SENA</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="text-center">RecorrerÃ© cada ambiente de formaciÃ³n para compartir con ustedes las indicaciones de esta actividad literaria que celebra la semana del Libro.
      Escanea el cÃ³digo QR AnÃ­mate a participar.</h2>
    <div class="card p-4 shadow">
      <div class="mb-3">
        <label for="documento" class="form-label">NÃºmero de Documento</label>
        <input type="number" id="documento" class="form-control" placeholder="Ingrese el nÃºmero de documento" required>
      </div>
      <div class="mb-3">
        <label for="ficha" class="form-label">Nombre</label>
        <input type="text" id="ficha" class="form-control" placeholder="Ingrese el nombre" required>
      </div>
      <button id="btnGuardar" class="btn btn-primary" onclick="guardarDatos()">Siguiente</button>
    </div>
  </div>

  <!-- Modal Inicial -->
  <div class="modal fade" id="modalMensaje" tabindex="-1" aria-labelledby="modalMensajeLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content p-4">
        <div class="modal-header">
          <h5 class="modal-title" id="modalMensajeLabel">ğŸ“šâœ¨ Â¡DiviÃ©rtete en la Semana del Libro! ğŸ“šâœ¨</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <p class="fs-5">â€œAtrÃ©vete a leer, aprender y crecerâ€¦ Â¡VÃ­velo en el SENA!â€</p>
          <hr>
          <p>Con el propÃ³sito de conmemorar el DÃ­a del Libro y la Literatura, invitamos a la comunidad SENA a participar de esta actividad con el objetivo principal de fomentar el recuerdo y reconocimiento de autores claves en la literatura universal, resaltando el legado invaluable que han dejado.</p>
          <p>A travÃ©s de un juego interactivo y participativo, buscamos estimular el interÃ©s por la lectura y promover la apreciaciÃ³n de la diversidad literaria.</p>
          <p>Esta iniciativa busca crear un espacio de aprendizaje dinÃ¡mico, donde la comunidad SENA pueda explorar y celebrar la riqueza de la literatura, conectando el conocimiento acadÃ©mico con la experiencia lÃºdica.</p>
          <div class="text-center mt-3">
            <button class="btn btn-success" onclick="iniciarDueloLiterario()">Empezar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Penitencia -->
  <div class="modal fade" id="modalPenitencia" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Â¡Penitencia literaria!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center fs-5" id="penitenciaTexto">
          <!-- AquÃ­ se mostrarÃ¡ la penitencia -->
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Fase 2 -->
  <div class="modal fade" id="modalFase2" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Fase 2 - Juego del Ahorcado</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-0" style="height: 80vh;">
          <iframe src="ahorcado.html" width="100%" height="100%" style="border: none;"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase y LÃ³gica de Juego -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";

    const firebaseConfig = {
  apiKey: "AIzaSyC2MxOV3ewIvFtT6hUyYke0T-O9ky2wBX8",
  authDomain: "biblioteca-25e85.firebaseapp.com",
  projectId: "biblioteca-25e85",
  storageBucket: "biblioteca-25e85.appspot.com",
  messagingSenderId: "138952129798",
  appId: "1:138952129798:web:6db5e0991e8a56ffcbb287",
  measurementId: "G-4L3CC98MN4",
  databaseURL: "https://biblioteca-25e85-default-rtdb.firebaseio.com" // âœ… aquÃ­ el cambio
};

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.guardarDatos = function () {
  const documento = document.getElementById("documento").value.trim();
  const ficha = document.getElementById("ficha").value.trim();

  if (!documento || !ficha) {
    alert("Por favor, completa ambos campos.");
    return;
  }

  const referencia = ref(db, "datos");
  push(referencia, { documento, ficha })
    .then(() => {
      console.log("âœ… Datos guardados en Firebase");

      // Limpiar campos
      document.getElementById("documento").value = "";
      document.getElementById("ficha").value = "";

      // Abrir el modal manualmente
      const modal = new bootstrap.Modal(document.getElementById("modalMensaje"));
      modal.show();
    })
    .catch((error) => {
      console.error("âŒ Error al guardar datos: ", error);
      alert("OcurriÃ³ un error al guardar. IntÃ©ntalo de nuevo.");
    });
};


    // Preguntas para el juego
    const preguntas = [
    {
        pregunta: "Â¿QuiÃ©n escribiÃ³ Don Quijote de la Mancha, considerada la primera novela moderna?",
        respuesta: "Miguel de Cervantes",
        penitencia: "ğŸ’• Haz una declaraciÃ³n de amor exagerada a Dulcinea del Toboso."
    },
    {
        pregunta: "Â¿QuÃ© personaje literario famoso tiene como fiel escudero a Sancho Panza?",
        respuesta: "Don Quijote",
        penitencia: "ğŸ´ Cabalga en cÃ¡mara lenta como Rocinante dando su Ãºltimo esfuerzo."
    },
    {
        pregunta: "Â¿QuÃ© autor escribiÃ³ tragedias como Hamlet, Macbeth y Romeo y Julieta?",
        respuesta: "William Shakespeare",
        penitencia: "ğŸ¤ Imita a Romeo declarando su amor desde un balcÃ³n invisible."
    },
    {
        pregunta: "Â¿En quÃ© idioma escribiÃ³ William Shakespeare sus obras?",
        respuesta: "InglÃ©s",
        penitencia: "ğŸ¤ Recita con voz dramÃ¡tica: â€œSer o no ser, esa es la cuestiÃ³nâ€."
    },
    {
        pregunta: "Â¿QuiÃ©n fue el autor peruano que escribiÃ³ Comentarios Reales de los Incas?",
        respuesta: "Inca Garcilaso de la Vega",
        penitencia: "ğŸ¤ Improvisa un poema con las palabras: â€œlibroâ€, â€œamorâ€ y â€œaventuraâ€."
    },
    {
        pregunta: "Â¿QuÃ© tienen en comÃºn Cervantes, Shakespeare e Inca Garcilaso de la Vega con el 23 de abril?",
        respuesta: "Todos murieron en fechas cercanas o el mismo dÃ­a (23 de abril de 1616)",
        penitencia: "ğŸ“œ Recita un breve homenaje a los tres autores como si estuvieras en una ceremonia."
    },
    {
        pregunta: "Â¿CÃ³mo se llama el mÃ­tico pueblo ficticio creado por Gabriel GarcÃ­a MÃ¡rquez?",
        respuesta: "Macondo",
        penitencia: "ğŸ­ Di con voz de telenovela: â€œÂ¡Macondo, jamÃ¡s te olvidarÃ©!â€ mirando al horizonte dramÃ¡ticamente."
    },
    {
        pregunta: "Â¿QuÃ© obra comienza con la famosa frase: â€œMuchos aÃ±os despuÃ©s, frente al pelotÃ³n de fusilamientoâ€¦â€?",
        respuesta: "Cien aÃ±os de soledad",
        penitencia: "ğŸ¬ Haz una escena de telenovela en cÃ¡mara lenta cayendo al suelo como si te dispararan."
    },
    {
        pregunta: "Â¿Con quÃ© apodo cariÃ±oso se conocÃ­a a Gabriel GarcÃ­a MÃ¡rquez?",
        respuesta: "Gabo",
        penitencia: "ğŸ™‡â€â™‚ï¸ Di tres veces seguidas: â€œGabo, gran genio de las letrasâ€ mientras haces reverencias."
    },
    {
        pregunta: "Â¿QuÃ© personaje de Cien aÃ±os de soledad ascendiÃ³ al cielo en cuerpo y alma?",
        respuesta: "Remedios la Bella",
        penitencia: "ğŸ•Šï¸ Gira sobre ti mismo con los brazos abiertos como si volaras al cielo, diciendo â€œÂ¡AdiÃ³s, mundo terrenal!â€"
    },
    {
        pregunta: "Â¿CuÃ¡l fue la profesiÃ³n principal de Gabo antes de ser novelista famoso?",
        respuesta: "Periodista",
        penitencia: "ğŸ“° Imita a un reportero en vivo dando la noticia de que Macondo fue tragado por un huracÃ¡n mÃ¡gico."
    },
    {
        pregunta: "Â¿En quÃ© aÃ±o ganÃ³ Gabriel GarcÃ­a MÃ¡rquez el Premio Nobel de Literatura?",
        respuesta: "1982",
        penitencia: "ğŸ† Haz tu propio discurso de aceptaciÃ³n diciendo: â€œAgradezco este Nobel por mis esfuerzos en salvar los libros del olvido...â€ con tono Ã©pico."
    },
    {
        pregunta: "Â¿CÃ³mo se llama el mÃ­tico pueblo ficticio creado por Gabriel GarcÃ­a MÃ¡rquez?",
        respuesta: "Macondo",
        penitencia: "ğŸŒ¸ Macondo duerme entre mariposas doradas,\nsoÃ±ando con amores que el tiempo no borra."
    },
    {
        pregunta: "Â¿QuÃ© obra comienza con la famosa frase: â€œMuchos aÃ±os despuÃ©s, frente al pelotÃ³n de fusilamientoâ€¦â€?",
        respuesta: "Cien aÃ±os de soledad",
        penitencia: "ğŸŒ¸ Frente al pelotÃ³n, el tiempo se hizo espiral,\ny en cada bala, latÃ­a un recuerdo inmortal."
    },
    {
        pregunta: "Â¿Con quÃ© apodo cariÃ±oso se conocÃ­a a Gabriel GarcÃ­a MÃ¡rquez?",
        respuesta: "Gabo",
        penitencia: "ğŸŒ¸ Le decÃ­an Gabo, tejedor de realidades,\nun alma de tinta que vivÃ­a en mil ciudades."
    },
    {
        pregunta: "Â¿QuÃ© personaje de Cien aÃ±os de soledad ascendiÃ³ al cielo en cuerpo y alma?",
        respuesta: "Remedios la Bella",
        penitencia: "ğŸŒ¸ Bella y etÃ©rea, Remedios al cielo volÃ³,\ny el viento de Macondo su perfume guardÃ³."
    },
    {
        pregunta: "Â¿CuÃ¡l fue la profesiÃ³n principal de Gabo antes de ser novelista famoso?",
        respuesta: "Periodista",
        penitencia: "ğŸŒ¸ Con pluma de fuego y verdad en el papel,\nGabo fue cronista del mundo cruel y fiel."
    },
    {
        pregunta: "Â¿QuÃ© famoso poeta chileno escribiÃ³ los Veinte poemas de amor y una canciÃ³n desesperada?",
        respuesta: "Pablo Neruda",
        penitencia: "ğŸ’Œ Recita con voz intensa una declaraciÃ³n de amor improvisada al estilo de Neruda."
    },
    {
        pregunta: "Â¿CÃ³mo se llama la tragedia de Lorca sobre una joven forzada a casarse sin amor?",
        respuesta: "Bodas de sangre",
        penitencia: "ğŸ’ƒ Haz una escena de drama andaluz gritando: â€œÂ¡El amor es una tragedia, ay, ay, ay!â€"
    },
    {
        pregunta: "Â¿QuÃ© novela retrata la dureza de la selva y la explotaciÃ³n en el Amazonas?",
        respuesta: "La vorÃ¡gine",
        penitencia: "ğŸŒ¿ Camina por la sala como si atravesaras una selva llena de lodo, mosquitos y serpientes invisibles."
    },
    {
        pregunta: "Â¿CuÃ¡l es la novela que comienza con la frase â€œLa virgen me lleva por mal caminoâ€?",
        respuesta: "La virgen de los sicarios",
        penitencia: "ğŸ˜” Habla durante 30 segundos con tono existencial y pesimista como si estuvieras en una novela de Vallejo."
    },
    {
        pregunta: "Â¿QuiÃ©n escribiÃ³ La Marquesa de YolombÃ³?",
        respuesta: "TomÃ¡s Carrasquilla",
        penitencia: "ğŸ© Habla como una dama antioqueÃ±a del siglo XIX: con elegancia, orgullo y mucha tradiciÃ³n."
    },
    {
        pregunta: "Â¿QuiÃ©n es el autor de El renacuajo paseador?",
        respuesta: "Rafael Pombo",
        penitencia: "ğŸ¸ Imita al renacuajo paseador caminando con estilo y saludando a sus amigos imaginarios."
    },
    {
        pregunta: "Â¿CuÃ¡l es la obra mÃ¡s reconocida del escritor colombiano Jorge Isaacs?",
        respuesta: "MarÃ­a",
        penitencia: "ğŸ’” ColÃ³cate la mano en el pecho y suspira profundamente como si estuvieras muriendo de amor."
    },
    {
        pregunta: "Â¿QuÃ© poeta colombiano es considerado el iniciador de la poesÃ­a negra en Colombia y escribiÃ³ Cantos populares de mi tierra?",
        respuesta: "Candelario Obeso",
        penitencia: "ğŸ¶ Recita un verso inventado con ritmo afrocolombiano y mucho sabor, como si estuvieras cantando desde la orilla del rÃ­o Magdalena."
    }
];


    let aciertos = 0;
    let preguntasRestantes = [...preguntas];

    window.iniciarDueloLiterario = function () {
      const modal = document.querySelector('#modalMensaje .modal-body');
      modal.innerHTML = `
        <h5>DinÃ¡mica: Duelo Literario: Preguntas y Penitencias</h5>
        <p>Los invito a formar parejas y poner a prueba sus conocimientos sobre literatura. Un miembro de la pareja leerÃ¡ una pregunta al otro. Si la respuesta es incorrecta, la pareja deberÃ¡ cumplir una 'penitencia literaria', una actividad divertida y creativa relacionada con el mundo de los libros.</p>
        <div id="zonaPregunta" class="mt-3"></div>
      `;
      aciertos = 0;
      preguntasRestantes = [...preguntas];
      mostrarPregunta();
    };

    function mostrarPregunta() {
      if (preguntasRestantes.length === 0) {
        document.getElementById("zonaPregunta").innerHTML = `<p>No hay mÃ¡s preguntas disponibles.</p>`;
        return;
      }

      const index = Math.floor(Math.random() * preguntasRestantes.length);
      const item = preguntasRestantes.splice(index, 1)[0];

      const zona = document.getElementById("zonaPregunta");
      zona.innerHTML = `<p><strong>${item.pregunta}</strong></p>
      <input id="respuestaUsuario" class="form-control" placeholder="Tu respuesta...">
      <button class="btn btn-primary mt-2" onclick="verificarRespuesta(decodeURIComponent('${encodeURIComponent(item.respuesta)}'), decodeURIComponent('${encodeURIComponent(item.penitencia)}'))">
        Responder
      </button>
    `;

    }

    window.verificarRespuesta = function (respuestaCorrecta, penitencia) {
      const respuesta = document.getElementById("respuestaUsuario").value.trim();
      if (respuesta.toLowerCase() === respuestaCorrecta.toLowerCase()) {
        aciertos++;
        if (aciertos < 2) {
          mostrarPregunta();
        } else {
          document.getElementById("zonaPregunta").innerHTML = `<p class='text-success'>ğŸ‰ Â¡Has completado la Fase 1! Pronto inicia la Fase 2...</p>`;
          setTimeout(() => {
            const modalFase2 = new bootstrap.Modal(document.getElementById("modalFase2"));
          modalFase2.show();
        }, 2000);
      }
    } else {
      // Mostrar penitencia si la respuesta es incorrecta
      const penitenciaTexto = document.getElementById("penitenciaTexto");
      penitenciaTexto.innerText = penitencia;
      const modalPenitencia = new bootstrap.Modal(document.getElementById("modalPenitencia"));
      modalPenitencia.show();
    }
  };
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
