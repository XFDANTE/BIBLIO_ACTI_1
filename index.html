<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Semana del Libro - SENA</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="text-center">RecorrerÃ© cada ambiente de formaciÃ³n para compartir con ustedes las indicaciones de esta actividad literaria que celebra la semana del Libro.
      Escanea el cÃ³digo QR AnÃ­mate a participar.</h2>
    <div class="card p-4 shadow">
      <div class="mb-3">
        <label for="documento" class="form-label">NÃºmero de Documento</label>
        <input type="number" id="documento" class="form-control" placeholder="Ingrese el nÃºmero de documento" required>
      </div>
      <div class="mb-3">
        <label for="ficha" class="form-label">Nombre</label>
        <input type="text" id="ficha" class="form-control" placeholder="Ingrese el Nombre" required>
      </div>
      <button id="btnGuardar" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalMensaje" onclick="guardarDatos()">Siguiente</button>
    </div>
  </div>

  <!-- Modal Inicial -->
  <div class="modal fade" id="modalMensaje" tabindex="-1" aria-labelledby="modalMensajeLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content p-4">
        <div class="modal-header">
          <h5 class="modal-title" id="modalMensajeLabel">ğŸ“šâœ¨ Â¡DiviÃ©rtete en la Semana del Libro! ğŸ“šâœ¨</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <p class="fs-5">â€œAtrÃ©vete a leer, aprender y crecerâ€¦ Â¡VÃ­velo en el SENA!â€</p>
          <hr>
          <p>Con el propÃ³sito de conmemorar el DÃ­a del Libro y la Literatura, invitamos a la comunidad SENA a participar de esta actividad con el objetivo principal de fomentar el recuerdo y reconocimiento de autores claves en la literatura universal, resaltando el legado invaluable que han dejado.</p>
          <p>A travÃ©s de un juego interactivo y participativo, buscamos estimular el interÃ©s por la lectura y promover la apreciaciÃ³n de la diversidad literaria.</p>
          <p>Esta iniciativa busca crear un espacio de aprendizaje dinÃ¡mico, donde la comunidad SENA pueda explorar y celebrar la riqueza de la literatura, conectando el conocimiento acadÃ©mico con la experiencia lÃºdica.</p>
          <div class="text-center mt-3">
            <button class="btn btn-success" onclick="iniciarDueloLiterario()">Empezar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Penitencia -->
  <div class="modal fade" id="modalPenitencia" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Â¡Penitencia literaria!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center fs-5" id="penitenciaTexto">
          <!-- AquÃ­ se mostrarÃ¡ la penitencia -->
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase y LÃ³gica de Juego -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";
  
    const firebaseConfig = {
      apiKey: "AIzaSyC2MxOV3ewIvFtT6hUyYke0T-O9ky2wBX8",
      authDomain: "biblioteca-25e85.firebaseapp.com",
      projectId: "biblioteca-25e85",
      storageBucket: "biblioteca-25e85.appspot.com",
      messagingSenderId: "138952129798",
      appId: "1:138952129798:web:6db5e0991e8a56ffcbb287",
      measurementId: "G-4L3CC98MN4",
      databaseURL: "https://biblioteca-25e85-default-rtdb.firebaseio.com"
    };
  
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
  
    window.guardarDatos = function () {
      const documento = document.getElementById("documento").value.trim();
      const ficha = document.getElementById("ficha").value.trim();
  
      if (!documento || !ficha) {
        alert("Por favor, completa ambos campos.");
        return;
      }
  
      const referencia = ref(db, "datos");
      push(referencia, { documento, ficha })
        .then(() => {
          console.log("Datos guardados en Firebase");
          document.getElementById("documento").value = "";
          document.getElementById("ficha").value = "";
        })
        .catch((error) => {
          console.error("Error al guardar datos: ", error);
        });
    };
  
    // Preguntas para el juego
    const preguntas = [
    {
        pregunta: "Â¿QuiÃ©n escribiÃ³ Don Quijote de la Mancha, considerada la primera novela moderna?",
        respuesta: "Miguel de Cervantes",
        penitencia: "ğŸ’• Haz una declaraciÃ³n de amor exagerada a Dulcinea del Toboso."
    },
    {
        pregunta: "Â¿QuÃ© personaje literario famoso tiene como fiel escudero a Sancho Panza?",
        respuesta: "Don Quijote",
        penitencia: "ğŸ´ Cabalga en cÃ¡mara lenta como Rocinante dando su Ãºltimo esfuerzo."
    },
    {
        pregunta: "Â¿QuÃ© autor escribiÃ³ tragedias como Hamlet, Macbeth y Romeo y Julieta?",
        respuesta: "William Shakespeare",
        penitencia: "ğŸ¤ Imita a Romeo declarando su amor desde un balcÃ³n invisible."
    },
    {
        pregunta: "Â¿En quÃ© idioma escribiÃ³ William Shakespeare sus obras?",
        respuesta: "inglÃ©s",
        penitencia: "ğŸ¤ Recita con voz dramÃ¡tica: â€œSer o no ser, esa es la cuestiÃ³nâ€."
    },
    {
        pregunta: "Â¿QuÃ© obra comienza con la famosa frase: â€œMuchos aÃ±os despuÃ©s, frente al pelotÃ³n de fusilamientoâ€¦â€?",
        respuesta: "Cien aÃ±os de soledad",
        penitencia: "ğŸ¬ Haz una escena de telenovela en cÃ¡mara lenta cayendo al suelo como si te dispararan."
    },
    {
        pregunta: "Â¿CÃ³mo se llama el mÃ­tico pueblo ficticio creado por Gabriel GarcÃ­a MÃ¡rquez?",
        respuesta: "Macondo",
        penitencia: "ğŸŒ´ Di con voz de telenovela: â€œÂ¡Macondo, jamÃ¡s te olvidarÃ©!â€ mirando al horizonte dramÃ¡ticamente."
    },
    {
        pregunta: "Â¿QuÃ© famoso poeta chileno escribiÃ³ los â€œVeinte poemas de amor y una canciÃ³n desesperadaâ€?",
        respuesta: "Pablo Neruda",
        penitencia: "ğŸ’Œ Recita con voz intensa una declaraciÃ³n de amor improvisada al estilo de Neruda."
    },
    {
        pregunta: "Â¿QuÃ© novela escrita por George Orwell presenta un mundo distÃ³pico donde 'el Gran Hermano te vigila'?",
        respuesta: "1984",
        penitencia: "ğŸ“¢ Mira a todos como si fueras el Gran Hermano y di: â€œÂ¡Te estoy vigilando!â€"
    },
    {
        pregunta: "Â¿QuiÃ©n escribiÃ³ 'CrÃ³nica de una muerte anunciada'?",
        respuesta: "Gabriel GarcÃ­a MÃ¡rquez",
        penitencia: "ğŸ’€ Narra en tercera persona una escena trÃ¡gica como si fueras un reportero literario."
    },
    {
        pregunta: "Â¿CuÃ¡l es el nombre del protagonista de 'La metamorfosis' de Franz Kafka?",
        respuesta: "Gregor Samsa",
        penitencia: "ğŸ Haz de cuenta que te despiertas convertido en un insecto gigante."
    },
    {
        pregunta: "Â¿QuÃ© escritora britÃ¡nica creÃ³ a Harry Potter?",
        respuesta: "J.K. Rowling",
        penitencia: "ğŸª„ Imita un hechizo diciendo 'Expecto Patronum' con toda tu energÃ­a mÃ¡gica."
    },
    {
        pregunta: "Â¿QuÃ© personaje vive en el 221B de Baker Street?",
        respuesta: "Sherlock Holmes",
        penitencia: "ğŸ•µï¸â€â™‚ï¸ Saca tu lupa imaginaria y haz una deducciÃ³n dramÃ¡tica sobre alguien en la sala."
    },
    {
        pregunta: "Â¿QuÃ© poeta escribiÃ³ 'Walking Around' y 'Poema 20'?",
        respuesta: "Pablo Neruda",
        penitencia: "ğŸŒ™ Mira al cielo y declama: 'Puedo escribir los versos mÃ¡s tristes esta noche...'"
    },
    {
        pregunta: "Â¿QuÃ© libro infantil comienza con 'En un lugar muy lejano, vivÃ­a un elefante llamado Babar'?",
        respuesta: "Las aventuras de Babar",
        penitencia: "ğŸ˜ Camina como elefante leyendo un cuento en voz alta."
    },
    {
        pregunta: "Â¿QuÃ© libro tiene un sombrerero loco y un gato que desaparece?",
        respuesta: "Alicia en el paÃ­s de las maravillas",
        penitencia: "ğŸ© RÃ­e como un sombrerero loco durante 5 segundos seguidos."
    },
    {
        pregunta: "Â¿QuÃ© autor colombiano escribiÃ³ 'El coronel no tiene quien le escriba'?",
        respuesta: "Gabriel GarcÃ­a MÃ¡rquez",
        penitencia: "ğŸ“¬ Representa con drama cÃ³mo esperas una carta que nunca llega."
    },
    {
        pregunta: "Â¿QuiÃ©n escribiÃ³ 'Rayuela', obra maestra del realismo mÃ¡gico y el lenguaje experimental?",
        respuesta: "Julio CortÃ¡zar",
        penitencia: "ğŸ² Salta como si jugaras rayuela mientras recitas una frase inventada."
    },
    {
        pregunta: "Â¿CuÃ¡l es el verdadero nombre del autor de 'El Principito'?",
        respuesta: "Antoine de Saint-ExupÃ©ry",
        penitencia: "ğŸ›©ï¸ Imita un aviÃ³n estrellÃ¡ndose suavemente mientras dices: â€œLo esencial es invisible a los ojos.â€"
    }
    ];

  
    let aciertos = 0;
    let preguntasRestantes = [...preguntas];
  
    window.iniciarDueloLiterario = function () {
      const modal = document.querySelector('#modalMensaje .modal-body');
      modal.innerHTML = `
        <h5>DinÃ¡mica: Duelo Literario: Preguntas y Penitencias</h5>
        <p>Los invito a formar parejas y poner a prueba sus conocimientos sobre literatura. Un miembro de la pareja leerÃ¡ una pregunta al otro. Si la respuesta es incorrecta, la pareja deberÃ¡ cumplir una 'penitencia literaria', una actividad divertida y creativa relacionada con el mundo de los libros.</p>
        <div id="zonaPregunta" class="mt-3"></div>
      `;
      aciertos = 0;
      preguntasRestantes = [...preguntas];
      mostrarPregunta();
    };
  
    function mostrarPregunta() {
      if (preguntasRestantes.length === 0) {
        document.getElementById("zonaPregunta").innerHTML = `<p>No hay mÃ¡s preguntas disponibles.</p>`;
        return;
      }
  
      const index = Math.floor(Math.random() * preguntasRestantes.length);
      const item = preguntasRestantes.splice(index, 1)[0]; // Evita repetir
  
      const zona = document.getElementById("zonaPregunta");
      zona.innerHTML = `
        <p><strong>${item.pregunta}</strong></p>
        <input id="respuestaUsuario" class="form-control" placeholder="Tu respuesta...">
        <button class="btn btn-primary mt-2" onclick="verificarRespuesta('${item.respuesta.replace(/'/g, "\\'")}', '${item.penitencia.replace(/'/g, "\\'")}')">Responder</button>
      `;
    }
  
    window.verificarRespuesta = function (respuestaCorrecta, penitencia) {
  const respuesta = document.getElementById("respuestaUsuario").value.trim();
  if (respuesta.toLowerCase() === respuestaCorrecta.toLowerCase()) {
    aciertos++;
    if (aciertos < 2) {
      mostrarPregunta();
    } else {
      document.getElementById("zonaPregunta").innerHTML = `<p class='text-success'>ğŸ‰ Â¡Has completado la Fase 1! Pronto inicia la Fase 2...</p>`;
      // Redirigir a index2.html despuÃ©s de 3 segundos
      setTimeout(() => {
        window.location.href = "index2.html";
      }, 3000);
    }
  } else {
    document.getElementById("penitenciaTexto").innerHTML = `<p>${penitencia}</p>`;
    const penitenciaModal = new bootstrap.Modal(document.getElementById("modalPenitencia"));
    penitenciaModal.show();
  }
};

  </script>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
